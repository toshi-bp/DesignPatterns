# `Decorator`パターン

# 概要
- `Decorator`パターンとは, 中心となるものに飾り付けとなる機能を一皮一皮被せていき, より目的に合ったオブジェクトに仕上げていくパターンのことである.
> decorator: 飾り付けするもの

# サンプルプログラム
サンプルプログラムは, 文字列の周りに飾り枠をつけて表示するというものである. ここでいう飾り枠とは, `-`, `+`, `|`という文字で描いたもののこととする.

クラス一覧は以下に示す通りである.
| クラス名 | 解説 |
| --- | --- |
| Display | 文字列表示用の抽象クラス |
| StringDisplay | 1行だけからなる文字列表示用のクラス |
| Border | 「飾り枠」を表す抽象クラス |
| SideBorder | 左右にのみ飾り枠をつけるクラス |
| FullBorder | 上下左右に飾り枠をつけるクラス |
| Main | 動作テスト用のクラス |

なお, クラス図は以下に示す通りである.
<img src="../out/ch12/sample/sample.png" />

## 備考
- `Display`クラスは, 複数行からなる文字列を表示するための抽象クラスである
    - `getColumns`と`getRows`は, それぞれ横の文字数と縦の行数を得るためのメソッドである
    - `getRowText`は指定した行の文字列を得るためのメソッドである
        - この3つのメソッドは実装はサブクラスで行われる(抽象クラスであるため)
    - `show`は全ての行を表示するメソッドである
        - `getRows`メソッドで行数を取得し, `getRowText`で表示すべき文字列を取得
        - その後, forループを使って全ての行を表示している
        - `show`は`getRows`と`getRowsText`を使った`Template Method`パターンとなっている(→第3章)
- `StringDisplay`クラスは`Display`クラスのサブクラスであり, 1行の文字列を表示するクラスである
    - `Display`クラスで宣言されたメソッドの実装はこちらで行われる
    - `string`フィールドは文字列を保持する
    - このクラスで表示するのは`string`フィールドの内容1行だけであるため, `getColumns`は`string.getBytes().length`の値を返し, `getRows`は1を返す
- `Border`クラスは「飾り枠」を表す抽象クラスである
    - 文字列表示をする`Display`のサブクラスとして定義
    - つまり, 継承によって**飾り枠は中身と同じメソッドを持つ**ことになる
        - 具体的に言えば, `Border`クラスでも`Display`クラスで宣言されたメソッドを継承している
        - インターフェース(API)的に見れば, 飾り枠と中身を同一視できるということを意味する
    - `Border`クラスは, `Display`型の`display`フィールドを持つ
        - これは, この飾り枠が包んでいる「中身」を指すものである
        - しかし, `display`フィールドの中身が`StringDisplay`のインスタンスであるとは限らない
            - `Border`も`Display`クラスのサブクラスであり, 抽象クラスであるため, `Border`のサブクラスが入る可能性も...??
- `Border`クラスは
- `Border`クラスは
- `Main`クラスは

# 登場人物
- ``()
    - 

# パターンを使う意義
## 
- 

# 関連しているパターン
- パターン(第`num`章)