# `AbstractFactory`パターン

# 概要
- `AbstractFactory`パターンとは**部品の具体的な実装には注目せず, インターフェース(API)に注目する. そして, そのインターフェース(API)だけを使って, 部品を組み立て, 製品にまとめる.**
- サブクラスのレベルで具体的な実装を行う(`Template Method`パターン(第3章)と`Builder`パターンと同じ)

# サンプルプログラム
サンプルプログラムは, 「階層構造を持ったリンク集をHTMLファイルとして作る」というものである.

このプログラムでは, 以下の3つのパッケージに分かれたクラス群で構成されている.
- `factory`パッケージ
    - 抽象的な工場・部品・製品を含むパッケージ
- 無名パッケージ
    - `Main`クラスを含むパッケージ
- `listfactory`パッケージ
    - 具体的な工場・部品・製品を含むパッケージ(ここでは&lt;ul&gt;タグを使って実装)

クラス一覧は以下に示す通りである.

| パッケージ | 名前 | 解説 |
| --- | --- | --- |
| factory | Factory | 抽象的な工場を表すクラス(Link, Tray, Pageを作る) |
| factory | Item | LinkとTrayを統一的に扱うためのクラス |
| factory | Link | 抽象的な部品:HTMLのリンクを表すクラス |
| factory | Tray | 抽象的な部品:LinkやTrayを集めたクラス |
| factory | Page | 抽象的な部品:HTMLのページを表すクラス |
| 無名 | Main | 動作テスト用のクラス |
| listfactory | ListFactory | 具体的な工場を表すクラス(ListLink, ListTray, ListPageを作る) |
| listfactory | ListLink | 具体的な部品:HTMLのリンクを表すクラス |
| listfactory | ListTray | 具体的な部品:LinkやTrayを集めたクラス |
| listfactory | ListPage | 具体的な部品:HTMLのページを表すクラス |

## 備考
- `Item`クラスは`Link`と`Tray`のスーパークラスになっている.
    - `Link`と`Tray`を同一視するため
    - `caption`フィールドは, この項目の「見出し」を表す
    - `makeHTML`は抽象メソッドであり, サブクラスで実装が期待されている
        - このメソッドを呼び出すと, HTMLの文字列が戻り値となる(そうなるようにサブクラスで設定する)
- `Link`クラスは, HTMLのハイパーリンクを抽象的に表現したクラスである
    - `url`フィールドは, リンクの飛び先のURLを保持するためのものである
    - `Link`クラス自体も抽象クラスである
        - スーパークラス(`Item`クラス)の抽象メソッド(`makeHTML`メソッド)が実装されていないため
- `Tray`クラスは複数の`Link`や`Tray`を集めてひとまとまりにしたものを表すクラスである
    - お盆(tray)の上に箇条書きの項目を1つ1つ載せるイメージ
    - `Link`や`Tray`は`add`メソッドを使って集める
        - 汎用性を上げるため `Link`と`Tray`のスーパークラスである`Item`を引数に取る
    - `Tray`クラス自体も抽象クラスである
        - `makeHTML`メソッドの継承をしているが, 実装はしていないため
- `Page`クラスはHTML全体を抽象的に表現したクラスである
    - 抽象的な「製品」のイメージ
    - `title`→ページのタイトル, `author`→ページの作者(作者名はコンストラクタへの引数は指定)
    - ページには. `add`メソッドを使って`Item`を追加し, 追加されたものを表示
    - `output`メソッドの中ではタイトルを元にファイル名を決定し, `makeHTML`メソッドを使って, 自分自身のHTMLの内容をファイルに書き込んでいる
        - `output`メソッドは`Template Method`パターンになっている
- `Factory`クラス

# 登場人物
- ``()
    - 

# パターンを使う意義
## 
- 

# 関連しているパターン
- パターン(第`num`章)